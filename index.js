const objPlano =
    [
        {
            "_id": "66d3e4129ea587a652888c42",
            "consecutivo": 8,
            "siOrder": true,
            "seller": "0",
            "sellerName": "despachadorcitos",
            "client": "COCOHOUSE SAS",
            "nit": "901476759",
            "delivery": "2024-09-02T16:48:14.554Z",
            "notes": "",
            "state": 0,
            "id_compras": "",
            "totalReq": 33,
            "TotalDisp": 0,
            "orderItem.code": "09",
            "orderItem.product": "Alm. x 180 g",
            "orderItem.qty": 33,
            "orderItem.dispatch": 0,
            "orderItem._id": "66d3e4129ea587a652888c43",
            "createdAt": "Sat Aug 31 2024 22:48:34 GMT-0500 (hora estándar de Colombia)",
            "updatedAt": "2024-09-01T03:48:34.000Z"
        },
        {
            "_id": "66d3e4bf9ea587a652888c81",
            "consecutivo": 1009,
            "siOrder": false,
            "seller": "0",
            "sellerName": "despachadorcitos",
            "client": "QUIMEX S.A.",
            "nit": "890324692",
            "delivery": "2024-09-02T16:51:02.960Z",
            "notes": "",
            "state": 1,
            "id_compras": "",
            "totalReq": 5,
            "TotalDisp": 5,
            "orderItem.loteAveria": "16416",
            "orderItem.causalAveria": "Empaque defectuoso",
            "orderItem.code": "09",
            "orderItem.product": "Almendra x 180 g",
            "orderItem.qty": 5,
            "orderItem.dispatch": 5,
            "orderItem._id": "66d3e4bf9ea587a652888c82",
            "orderItem.historyDisp.fechaHistory": "2024-09-01T03:51:45.414Z",
            "orderItem.historyDisp.dspHistory": "wios",
            "orderItem.historyDisp.qtyHistory": 4,
            "orderItem.historyDisp.loteVenta": "17364",
            "orderItem.historyDisp._id": "66d3e4d19ea587a652888c95",
            "createdAt": "Sat Aug 31 2024 22:51:27 GMT-0500 (hora estándar de Colombia)",
            "updatedAt": "2024-09-01T03:51:58.714Z"
        },
        {
            "_id": "66d3e4bf9ea587a652888c81",
            "consecutivo": 1009,
            "siOrder": false,
            "seller": "0",
            "sellerName": "despachadorcitos",
            "client": "QUIMEX S.A.",
            "nit": "890324692",
            "delivery": "2024-09-02T16:51:02.960Z",
            "notes": "",
            "state": 1,
            "id_compras": "",
            "totalReq": 5,
            "TotalDisp": 5,
            "orderItem.loteAveria": "16416",
            "orderItem.causalAveria": "Empaque defectuoso",
            "orderItem.code": "09",
            "orderItem.product": "Almendra x 180 g",
            "orderItem.qty": 5,
            "orderItem.dispatch": 5,
            "orderItem._id": "66d3e4bf9ea587a652888c82",
            "orderItem.historyDisp.fechaHistory": "2024-09-01T03:45:55.415Z",
            "orderItem.historyDisp.dspHistory": "wios",
            "orderItem.historyDisp.qtyHistory": 1,
            "orderItem.historyDisp.loteVenta": "17439",
            "orderItem.historyDisp._id": "66d3e4db9ea587a652888ca0",
            "createdAt": "Sat Aug 31 2024 22:51:27 GMT-0500 (hora estándar de Colombia)",
            "updatedAt": "2024-09-01T03:51:58.714Z"
        },
        {
            "_id": "66d452ec9ea587a652888cd8",
            "consecutivo": 9,
            "siOrder": true,
            "seller": "0",
            "sellerName": "despachadorcitos",
            "client": "ALKOSTO - TUQUERRES",
            "nit": "1085",
            "delivery": "2024-09-02T16:39:55.233Z",
            "notes": "Cita para la noche",
            "state": 1,
            "id_compras": "000987654",
            "totalReq": 51,
            "TotalDisp": 0,
            "orderItem.code": "30",
            "orderItem.product": "Pan. Ctdo 220 ",
            "orderItem.qty": 12,
            "orderItem.dispatch": 0,
            "orderItem._id": "66d452ec9ea587a652888cd9",
            "createdAt": "Sun Sep 01 2024 06:41:32 GMT-0500 (hora estándar de Colombia)",
            "updatedAt": "2024-09-01T11:44:40.151Z"
        },
        {
            "_id": "66d452ec9ea587a652888cd8",
            "consecutivo": 9,
            "siOrder": true,
            "seller": "0",
            "sellerName": "despachadorcitos",
            "client": "ALKOSTO - TUQUERRES",
            "nit": "1085",
            "delivery": "2024-09-02T16:39:55.233Z",
            "notes": "Cita para la noche",
            "state": 1,
            "id_compras": "000987654",
            "totalReq": 51,
            "TotalDisp": 0,
            "orderItem.code": "08",
            "orderItem.product": "Pan. x 200 g",
            "orderItem.qty": 12,
            "orderItem.dispatch": 0,
            "orderItem._id": "66d452ec9ea587a652888cda",
            "createdAt": "Sun Sep 01 2024 06:41:32 GMT-0500 (hora estándar de Colombia)",
            "updatedAt": "2024-09-01T11:44:40.151Z"
        },
        {
            "_id": "66d452ec9ea587a652888cd8",
            "consecutivo": 9,
            "siOrder": true,
            "seller": "0",
            "sellerName": "despachadorcitos",
            "client": "ALKOSTO - TUQUERRES",
            "nit": "1085",
            "delivery": "2024-09-02T16:39:55.233Z",
            "notes": "Cita para la noche",
            "state": 1,
            "id_compras": "000987654",
            "totalReq": 51,
            "TotalDisp": 0,
            "orderItem.code": "39",
            "orderItem.product": "Lnja Combinada",
            "orderItem.qty": 12,
            "orderItem.dispatch": 0,
            "orderItem._id": "66d452ec9ea587a652888cdb",
            "createdAt": "Sun Sep 01 2024 06:41:32 GMT-0500 (hora estándar de Colombia)",
            "updatedAt": "2024-09-01T11:44:40.151Z"
        },
        {
            "_id": "66d452ec9ea587a652888cd8",
            "consecutivo": 9,
            "siOrder": true,
            "seller": "0",
            "sellerName": "despachadorcitos",
            "client": "ALKOSTO - TUQUERRES",
            "nit": "1085",
            "delivery": "2024-09-02T16:39:55.233Z",
            "notes": "Cita para la noche",
            "state": 1,
            "id_compras": "000987654",
            "totalReq": 51,
            "TotalDisp": 0,
            "orderItem.code": "13",
            "orderItem.product": "Lnja Roja",
            "orderItem.qty": 15,
            "orderItem.dispatch": 0,
            "orderItem._id": "66d452ec9ea587a652888cdc",
            "createdAt": "Sun Sep 01 2024 06:41:32 GMT-0500 (hora estándar de Colombia)",
            "updatedAt": "2024-09-01T11:44:40.151Z"
        }, {




            "_id": "66dfa2955a85f2116fa4368f",
            "consecutivo": 10,
            "siOrder": true,
            "seller": "0",
            "sellerName": "despachadorcitos",
            "client": "TULIO OSWALDO BASTIDAS QUINTANA",
            "nit": "98385639",
            "delivery": "2024-09-10T16:35:46.682Z",
            "notes": "",
            "state": 0,
            "id_compras": "",
            "totalReq": 30,
            "TotalDisp": 20,
            "orderItem.code": "10",
            "orderItem.product": "Alm. Cor 160 g",
            "orderItem.qty": 9,
            "orderItem.dispatch": 9,
            "orderItem._id": "66dfa2955a85f2116fa43690",
            "orderItem.historyDisp.fechaHistory": "2024-09-10T01:36:48.448Z",
            "orderItem.historyDisp.dspHistory": "wios",
            "orderItem.historyDisp.qtyHistory": 9,
            "orderItem.historyDisp.loteVenta": "17403",
            "orderItem.historyDisp._id": "66dfa2b05a85f2116fa436a6",
            "createdAt": "Mon Sep 09 2024 20:36:21 GMT-0500 (hora estándar de Colombia)",
            "updatedAt": "2024-09-10T01:38:08.381Z"
        }, {
            "_id": "66dfa2955a85f2116fa4368f",
            "consecutivo": 10,
            "siOrder": true,
            "seller": "0",
            "sellerName": "despachadorcitos",
            "client": "TULIO OSWALDO BASTIDAS QUINTANA",
            "nit": "98385639",
            "delivery": "2024-09-10T16:35:46.682Z",
            "notes": "",
            "state": 0,
            "id_compras": "",
            "totalReq": 30,
            "TotalDisp": 20,
            "orderItem.code": "09",
            "orderItem.product": "Alm. x 180 g",
            "orderItem.qty": 8,
            "orderItem.dispatch": 8,
            "orderItem._id": "66dfa2955a85f2116fa43691",
            "orderItem.historyDisp.fechaHistory": "2024-09-10T01:37:02.835Z",
            "orderItem.historyDisp.dspHistory": "wios",
            "orderItem.historyDisp.qtyHistory": 3,
            "orderItem.historyDisp.loteVenta": "17223",
            "orderItem.historyDisp._id": "66dfa2be5a85f2116fa436b4",
            "createdAt": "Mon Sep 09 2024 20:36:21 GMT-0500 (hora estándar de Colombia)",
            "updatedAt": "2024-09-10T01:38:08.381Z"
        }, {
            "_id": "66dfa2955a85f2116fa4368f",
            "consecutivo": 10,
            "siOrder": true,
            "seller": "0",
            "sellerName": "despachadorcitos",
            "client": "TULIO OSWALDO BASTIDAS QUINTANA",
            "nit": "98385639",
            "delivery": "2024-09-10T16:35:46.682Z",
            "notes": "",
            "state": 0,
            "id_compras": "",
            "totalReq": 30,
            "TotalDisp": 20,
            "orderItem.code": "09",
            "orderItem.product": "Alm. x 180 g",
            "orderItem.qty": 8,
            "orderItem.dispatch": 8,
            "orderItem._id": "66dfa2955a85f2116fa43691",
            "orderItem.historyDisp.fechaHistory": "2024-09-10T01:37:10.450Z",
            "orderItem.historyDisp.dspHistory": "wios",
            "orderItem.historyDisp.qtyHistory": 5,
            "orderItem.historyDisp.loteVenta": "17439",
            "orderItem.historyDisp._id": "66dfa2c65a85f2116fa436c3",
            "createdAt": "Mon Sep 09 2024 20:36:21 GMT-0500 (hora estándar de Colombia)",
            "updatedAt": "2024-09-10T01:38:08.381Z"
        }, {
            "_id": "66dfa2955a85f2116fa4368f",
            "consecutivo": 10,
            "siOrder": true,
            "seller": "0",
            "sellerName": "despachadorcitos",
            "client": "TULIO OSWALDO BASTIDAS QUINTANA",
            "nit": "98385639",
            "delivery": "2024-09-10T16:35:46.682Z",
            "notes": "",
            "state": 0,
            "id_compras": "",
            "totalReq": 30,
            "TotalDisp": 20,
            "orderItem.code": "05",
            "orderItem.product": "Alm. x 200 g",
            "orderItem.qty": 7,
            "orderItem.dispatch": 1,
            "orderItem._id": "66dfa2955a85f2116fa43692",
            "orderItem.historyDisp.fechaHistory": "2024-09-10T01:37:32.252Z",
            "orderItem.historyDisp.dspHistory": "wios",
            "orderItem.historyDisp.qtyHistory": 1,
            "orderItem.historyDisp.loteVenta": "15405",
            "orderItem.historyDisp._id": "66dfa2dc5a85f2116fa436d5",
            "createdAt": "Mon Sep 09 2024 20:36:21 GMT-0500 (hora estándar de Colombia)",
            "updatedAt": "2024-09-10T01:38:08.381Z"
        }, {
            "_id": "66dfa2955a85f2116fa4368f",
            "consecutivo": 10,
            "siOrder": true,
            "seller": "0",
            "sellerName": "despachadorcitos",
            "client": "TULIO OSWALDO BASTIDAS QUINTANA",
            "nit": "98385639",
            "delivery": "2024-09-10T16:35:46.682Z",
            "notes": "",
            "state": 0,
            "id_compras": "",
            "totalReq": 30,
            "TotalDisp": 20,
            "orderItem.code": "03",
            "orderItem.product": "Alm. x 25 estuche",
            "orderItem.qty": 6,
            "orderItem.dispatch": 2,
            "orderItem._id": "66dfa2955a85f2116fa43693",
            "orderItem.historyDisp.fechaHistory": "2024-09-10T01:38:08.255Z",
            "orderItem.historyDisp.dspHistory": "wios",
            "orderItem.historyDisp.qtyHistory": 2,
            "orderItem.historyDisp.loteVenta": "6624",
            "orderItem.historyDisp._id": "66dfa3005a85f2116fa436f0",
            "createdAt": "Mon Sep 09 2024 20:36:21 GMT-0500 (hora estándar de Colombia)",
            "updatedAt": "2024-09-10T01:38:08.381Z"
        }
    ]

const data = [
    {
        "_id": "66d3e4129ea587a652888c42",
        "consecutivo": 8,
        "siOrder": true,
        "seller": "0",
        "sellerName": "despachadorcitos",
        "client": "COCOHOUSE SAS",
        "nit": "901476759",
        "delivery": "2024-09-02T16:48:14.554Z",
        "notes": "",
        "state": 0,
        "id_compras": "",
        "totalReq": 33,
        "TotalDisp": 0,
        "orderItem": [
            {
                "code": "09",
                "product": "Alm. x 180 g",
                "qty": 33,
                "dispatch": 0,
                "_id": "66d3e4129ea587a652888c43",
                "historyDisp": []
            }
        ],
        "createdAt": "Sat Aug 31 2024 22:48:34 GMT-0500 (hora estándar de Colombia)",
        "updatedAt": "2024-09-01T03:48:34.000Z"
    },
    {
        "_id": "66d3e4bf9ea587a652888c81",
        "consecutivo": 1009,
        "siOrder": false,
        "seller": "0",
        "sellerName": "despachadorcitos",
        "client": "QUIMEX S.A.",
        "nit": "890324692",
        "delivery": "2024-09-02T16:51:02.960Z",
        "notes": "",
        "state": 1,
        "id_compras": "",
        "totalReq": 5,
        "TotalDisp": 5,
        "orderItem": [
            {
                "loteAveria": "16416",
                "causalAveria": "Empaque defectuoso",
                "code": "09",
                "product": "Almendra x 180 g",
                "qty": 5,
                "dispatch": 5,
                "_id": "66d3e4bf9ea587a652888c82",
                "historyDisp": [
                    {
                        "fechaHistory": "2024-09-01T03:51:45.414Z",
                        "dspHistory": "wios",
                        "qtyHistory": 4,
                        "loteVenta": "17364",
                        "_id": "66d3e4d19ea587a652888c95"
                    },
                    {
                        "fechaHistory": "2024-09-01T03:45:55.415Z",
                        "dspHistory": "wios",
                        "qtyHistory": 1,
                        "loteVenta": "17439",
                        "_id": "66d3e4db9ea587a652888ca0"
                    }
                ]
            }
        ],
        "createdAt": "Sat Aug 31 2024 22:51:27 GMT-0500 (hora estándar de Colombia)",
        "updatedAt": "2024-09-01T03:51:58.714Z"
    },
    {
        "_id": "66d452ec9ea587a652888cd8",
        "consecutivo": 9,
        "siOrder": true,
        "seller": "0",
        "sellerName": "despachadorcitos",
        "client": "ALKOSTO - TUQUERRES",
        "nit": "1085",
        "delivery": "2024-09-02T16:39:55.233Z",
        "notes": "Cita para la noche",
        "state": 1,
        "id_compras": "000987654",
        "totalReq": 51,
        "TotalDisp": 0,
        "orderItem": [
            {
                "code": "30",
                "product": "Pan. Ctdo 220 ",
                "qty": 12,
                "dispatch": 0,
                "_id": "66d452ec9ea587a652888cd9",
                "historyDisp": []
            },
            {
                "code": "08",
                "product": "Pan. x 200 g",
                "qty": 12,
                "dispatch": 0,
                "_id": "66d452ec9ea587a652888cda",
                "historyDisp": []
            },
            {
                "code": "39",
                "product": "Lnja Combinada",
                "qty": 12,
                "dispatch": 0,
                "_id": "66d452ec9ea587a652888cdb",
                "historyDisp": []
            },
            {
                "code": "13",
                "product": "Lnja Roja",
                "qty": 15,
                "dispatch": 0,
                "_id": "66d452ec9ea587a652888cdc",
                "historyDisp": []
            }
        ],
        "createdAt": "Sun Sep 01 2024 06:41:32 GMT-0500 (hora estándar de Colombia)",
        "updatedAt": "2024-09-01T11:44:40.151Z"
    },
    {
        "_id": "66dfa2955a85f2116fa4368f",
        "consecutivo": 10,
        "siOrder": true,
        "seller": "0",
        "sellerName": "despachadorcitos",
        "client": "TULIO OSWALDO BASTIDAS QUINTANA",
        "nit": "98385639",
        "delivery": "2024-09-10T16:35:46.682Z",
        "notes": "",
        "state": 0,
        "id_compras": "",
        "totalReq": 30,
        "TotalDisp": 20,
        "orderItem": [
            {
                "code": "10",
                "product": "Alm. Cor 160 g",
                "qty": 9,
                "dispatch": 9,
                "_id": "66dfa2955a85f2116fa43690",
                "historyDisp": [
                    {
                        "fechaHistory": "2024-09-10T01:36:48.448Z",
                        "dspHistory": "wios",
                        "qtyHistory": 9,
                        "loteVenta": "17403",
                        "_id": "66dfa2b05a85f2116fa436a6"
                    }
                ]
            },
            {
                "code": "09",
                "product": "Alm. x 180 g",
                "qty": 8,
                "dispatch": 8,
                "_id": "66dfa2955a85f2116fa43691",
                "historyDisp": [
                    {
                        "fechaHistory": "2024-09-10T01:37:02.835Z",
                        "dspHistory": "wios",
                        "qtyHistory": 3,
                        "loteVenta": "17223",
                        "_id": "66dfa2be5a85f2116fa436b4"
                    },
                    {
                        "fechaHistory": "2024-09-10T01:37:10.450Z",
                        "dspHistory": "wios",
                        "qtyHistory": 5,
                        "loteVenta": "17439",
                        "_id": "66dfa2c65a85f2116fa436c3"
                    }
                ]
            },
            {
                "code": "05",
                "product": "Alm. x 200 g",
                "qty": 7,
                "dispatch": 1,
                "_id": "66dfa2955a85f2116fa43692",
                "historyDisp": [
                    {
                        "fechaHistory": "2024-09-10T01:37:32.252Z",
                        "dspHistory": "wios",
                        "qtyHistory": 1,
                        "loteVenta": "15405",
                        "_id": "66dfa2dc5a85f2116fa436d5"
                    }
                ]
            },
            {
                "code": "03",
                "product": "Alm. x 25 estuche",
                "qty": 6,
                "dispatch": 2,
                "_id": "66dfa2955a85f2116fa43693",
                "historyDisp": [
                    {
                        "fechaHistory": "2024-09-10T01:38:08.255Z",
                        "dspHistory": "wios",
                        "qtyHistory": 2,
                        "loteVenta": "6624",
                        "_id": "66dfa3005a85f2116fa436f0"
                    }
                ]
            }
        ],
        "createdAt": "Mon Sep 09 2024 20:36:21 GMT-0500 (hora estándar de Colombia)",
        "updatedAt": "2024-09-10T01:38:08.381Z"
    }
]

const arr1 = [
    { a: 10, b: 11, c: 13 },
    { d: 20, e: 21 },
    { e: 30 }
];

const arr2 = [
    { e: 30 },
    { a: 10, c: 13, b: 11 },
    { d: 20, e: 21 }
];


// +***********  FUNCIONES DE PRUEBA
let dataUnwind = [];
unwind(data);


function unwind(data) {
    
    data.forEach(documento =>{
        const jsonData = exploreObject(documento);
        const indexPadre = jsonData.reduce((minIdx, item, index) => {
            return (minIdx === -1 || item.parent.yo < jsonData[minIdx].parent.yo)
                ? index
                : minIdx;
        }, -1);
        const padre = jsonData[indexPadre].parent.yo;
        res = consolidar(jsonData, padre, indexPadre);
        dataUnwind = [...dataUnwind, ...res];
    })

    console.log(dataUnwind);
    const keysAndTypes = getKeysAndTypes(dataUnwind);
    console.log(keysAndTypes);

}
//esta funcion esta OOKK
function filterBy(arr, condition) {
    
    const [field, operator, value] = condition.split(/(=|>|<|>=|<=)/).map(str => str.trim());

    return arr.filter(item => {
        if (!(field in item)) {
            return false; 
        }
        
        let fieldValue = item[field];
        let conditionValue;

        if (typeof(fieldValue) === 'boolean') {
            conditionValue = value === 'true' ? true : false;
        } else if (!isNaN(value)) {
            conditionValue = parseFloat(value); 
        } else {
            
            fieldValue = fieldValue.toString().toLowerCase();
            conditionValue = value.toLowerCase();
        }
        
        switch (operator) {
            case '=':
                if (typeof fieldValue === 'string') {
                    // Para cadenas, buscamos coincidencias parciales
                    return fieldValue.includes(conditionValue);
                } else {
                    return fieldValue == conditionValue;
                }
            case '>':
                return fieldValue > conditionValue;
            case '<':
                return fieldValue < conditionValue;
            case '>=':
                return fieldValue >= conditionValue;
            case '<=':
                return fieldValue <= conditionValue;
            default:
                return false; 
        }
    });
}







function getKeysAndTypes(arr) {
    let keysAndTypes = {};

    arr.forEach(item => {
        Object.keys(item).forEach(key => {
            if (!keysAndTypes[key]) {
                keysAndTypes[key] = typeof item[key]; // Guardamos el tipo de la clave
            }
        });
    });

    return keysAndTypes;
}


function consolidar(arr, padre, indexPadre, accObject = {}, resultados = []) {
    let tieneHijos = false; 

    arr.forEach(item => {
        if (item.parent.padre === padre) {
            tieneHijos = true; 
            accObject = { ...accObject, ...item.datos };
            consolidar(arr, item.parent.yo, indexPadre, accObject, resultados); 
        }
    });

    if (!tieneHijos) {
        accObject = { ...arr[indexPadre].datos, ...accObject };
        resultados.push(accObject); 
    }

    return resultados; 
}




//12 sept 7:10 pm esta por fin hace bien el trabajo, noparece necesitar refactory
function exploreObject(obj, idPadre,  parentKey = '', accumulator = []) {
    if (typeof exploreObject.counter === 'undefined') {
        exploreObject.counter = 400;
    }
    exploreObject.counter++;
    let flat = {};
    const idYo = exploreObject.counter;
    if (Array.isArray(obj)) {
        obj.forEach((item, index) => {
            exploreObject(item, idYo,  parentKey, accumulator);
        });
    } else if (typeof obj === 'object' && obj !== null) {
        for (let key in obj) {
            if (obj.hasOwnProperty(key)) {
                const fullKey = parentKey ? `${parentKey}.${key}` : key; 
                if (Array.isArray(obj[key]) || typeof obj[key] === 'object') {
                    exploreObject(obj[key], idYo, fullKey, accumulator);
                } else {
                    flat[fullKey] = obj[key];
                }
            }
        }
    }
    if (Object.keys(flat).length > 0) {
        accumulator.push({datos:flat,parent:{cont: exploreObject.counter,yo:idYo, padre:idPadre-1}});
    }
    
    return accumulator;
}










//utilidad para comparar arrays, no se deberia necesitar en servidor
function compareArrays(arr1, arr2) {
    if (arr1.length !== arr2.length) {
        return { result: false, reason: `Different lengths: arr1 has ${arr1.length} elements, arr2 has ${arr2.length} elements.` };
    }

    const normalize = obj => {
        return Object.keys(obj).sort().reduce((acc, key) => {
            acc[key] = obj[key];
            return acc;
        }, {});
    };

    const sortedArr1 = arr1.map(normalize).sort((a, b) => JSON.stringify(a).localeCompare(JSON.stringify(b)));
    const sortedArr2 = arr2.map(normalize).sort((a, b) => JSON.stringify(a).localeCompare(JSON.stringify(b)));

    let differences = [];

    sortedArr1.forEach((item, index) => {
        const obj1 = sortedArr1[index];
        const obj2 = sortedArr2[index];

        const diff = compareObjects(obj1, obj2);

        if (Object.keys(diff).length > 0) {
            differences.push({
                index: index,
                arr1: obj1,
                arr2: obj2,
                differences: diff
            });
        }
    });

    if (differences.length > 0) {
        return { result: false, differences };
    }

    return { result: true, message: "Both arrays are equal." };
}

function compareObjects(obj1, obj2) {
    let diff = {};

    for (let key in obj1) {
        if (obj1.hasOwnProperty(key)) {
            if (obj2[key] === undefined) {
                diff[key] = `Key "${key}" is missing in arr2`;
            } else if (obj1[key] !== obj2[key]) {
                diff[key] = `In arr1: ${obj1[key]}, In arr2: ${obj2[key]}`;
            }
        }
    }

    for (let key in obj2) {
        if (obj2.hasOwnProperty(key) && obj1[key] === undefined) {
            diff[key] = `Key "${key}" is missing in arr1`;
        }
    }

    return diff;
}



